<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>GEMIROSE MUSIC WORLD</title>
  <style>
    :root {
      /* å®šä¹‰ä¸»é¢˜é¢œè‰² */
      --primary-color: #fbc0d9; /* ä¸»è‰²è°ƒï¼šç²‰è‰² */
      --secondary-color: #fbc0d9; /* è¾…è‰²è°ƒï¼šç²‰è‰² */
      /* æ·±è‰²èƒŒæ™¯ */
      --background-dark: #2a2a2a; /* æ•´ä½“æ·±è‰²èƒŒæ™¯ */
      --background-darker: #1c1c1c; /* å…ƒç´ æ›´æ·±çš„èƒŒæ™¯ */
      /* æ–‡æœ¬é¢œè‰² */
      --text-color: #e0e0e0; /* ä¸»è¦æ–‡æœ¬é¢œè‰² */
      --text-secondary: #aaaaaa; /* æ¬¡è¦æ–‡æœ¬é¢œè‰² */
      /* æ¸å˜è‰² */
      --gradient: linear-gradient(145deg, var(--primary-color), var(--secondary-color));
      /* é˜´å½±æ•ˆæœ */
      --shadow: 0 6px 12px rgba(0, 0, 0, 0.4); /* æ›´æ˜æ˜¾çš„é˜´å½± */
      /* åœ†è§’ */
      --radius: 12px; /* æ›´å¤§çš„åœ†è§’ */
      /* å†…è¾¹è· */
      --padding: 20px; /* å¢åŠ å†…è¾¹è· */
    }

    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; /* æ›´æ”¹å­—ä½“ï¼Œæ›´ç°ä»£ */
      background-color: #202020; /* æ›´æ·±çš„èƒŒæ™¯è‰² */
      margin: 0;
      padding: 0;
      display: flex;
      justify-content: center;
      align-items: center;
      min-height: 100vh;
      color: var(--text-color);
      line-height: 1.6; /* å¢åŠ è¡Œé«˜ */
    }

    .container {
      background-color: var(--background-dark);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      padding: var(--padding);
      width: 90%; /* é€‚å½“å¢åŠ å®½åº¦ */
      max-width: 960px; /* å¢åŠ æœ€å¤§å®½åº¦ */
      text-align: center;
      box-sizing: border-box; /* åŒ…å«å†…è¾¹è·å’Œè¾¹æ¡†åœ¨å®½åº¦å†… */
      /* border: 1px solid rgba(255, 255, 255, 0.08); /* å®¹å™¨è¾¹æ¡† - ç§»é™¤ */ */
    }

    h1 {
      font-size: 32px; /* æ ‡é¢˜æ›´å¤§ */
      margin-bottom: 30px; /* å¢åŠ åº•éƒ¨é—´è· */
      color: var(--primary-color);
      text-shadow: 0 3px 6px rgba(0,0,0,0.6); /* æ ‡é¢˜é˜´å½±æ›´æ·± */
      letter-spacing: 1.5px; /* å¢åŠ å­—é—´è· */
    }

    .album-carousel, .album-details {
      position: relative;
      width: 100%;
      margin-bottom: 25px; /* å¢åŠ é—´è· */
    }

    .album-carousel {
      height: 400px; /* å¢åŠ è½®æ’­é«˜åº¦ */
      overflow: hidden;
      padding-top: 15px;
    }

    .album-details {
      min-height: 400px; /* å¢åŠ è¯¦æƒ…é¡µæœ€å°é«˜åº¦ */
      display: flex;
      flex-direction: column;
      align-items: center;
      background: var(--background-darker); /* ä½¿ç”¨æ›´æ·±çš„èƒŒæ™¯å˜é‡ */
      border-radius: var(--radius);
      padding: var(--padding);
      animation: fadeIn 0.6s ease-out; /* åŠ¨ç”»ç¨æ…¢ */
      /* border: 1px solid rgba(255,255,255,0.15); /* ä¸“è¾‘è¯¦æƒ…è¾¹æ¡†æ›´æ˜æ˜¾ - ç§»é™¤ */ */
    box-shadow: var(--shadow);
    }

    @keyframes fadeIn {
      0% { opacity: 0; transform: translateY(20px); } /* åˆå§‹ä½ç½®æ›´ä½ */
      100% { opacity: 1; transform: translateY(0); }
    }

    .album-header {
      display: flex;
      flex-direction: column;
      align-items: center;
      margin-bottom: var(--padding);
    }

    .album-header img {
      width: auto;
      height: 220px; /* ä¸“è¾‘å°é¢ç¨å¤§ */
      border-radius: var(--radius);
      box-shadow: 0 8px 16px rgba(0, 0, 0, 0.5); /* ä¸“è¾‘å°é¢é˜´å½±æ›´æ·± */
      transition: transform 0.4s ease, opacity 0.4s ease;
      /* border: 2px solid rgba(255, 255, 255, 0.1); /* ä¸“è¾‘å°é¢è¾¹æ¡† - ç§»é™¤ */ */
    }

    .album-header img:hover {
      opacity: 0.95;
      transform: scale(1.03); /* æ‚¬åœæ—¶æ”¾å¤§æ›´å¤š */
    }

    .album-header .song-name {
      font-size: 24px;
      font-weight: 700;
      margin-top: 20px; /* å¢åŠ é—´è· */
      color: var(--secondary-color);
      text-shadow: 0 1px 3px rgba(0,0,0,0.4);
    }

    .carousel-inner {
      display: flex;
      justify-content: center;
      transition: transform 0.8s ease-in-out;
      position: absolute;
      left: 50%;
      transform: translateX(-50%);
      padding: 10px 0; /* å¢åŠ å‚ç›´å†…è¾¹è· */
    }

    .carousel-item {
      display: flex;
      flex-direction: column;
      align-items: center;
      margin: 0 25px; /* å¢åŠ å·¦å³é—´è· */
      text-align: center;
      cursor: pointer;
      padding: 15px; /* å¢åŠ å†…è¾¹è· */
      border-radius: var(--radius);
      background-color: rgba(255,255,255,0.05); /* è½»å¾®èƒŒæ™¯è‰²æ›´æ˜æ˜¾ */
      box-shadow: 0 4px 8px rgba(0,0,0,0.3); /* è½»å¾®é˜´å½±æ›´æ˜æ˜¾ */
      transition: transform 0.3s ease, box-shadow 0.3s ease, background-color 0.3s ease;
      /* border: 1px solid rgba(255,255,255,0.05); /* è½®æ’­é¡¹è¾¹æ¡† - ç§»é™¤ */ */
    }

    .carousel-item:hover {
      transform: scale(1.08); /* æ‚¬åœæ—¶æ”¾å¤§æ›´å¤š */
      box-shadow: 0 8px 20px rgba(0, 0, 0, 0.5); /* æ‚¬åœæ—¶é˜´å½±æ›´æ˜æ˜¾ */
      background-color: rgba(255,255,255,0.1);
    }

    .album-carousel img {
      width: auto;
      height: 220px; /* è½®æ’­ä¸“è¾‘å°é¢ç¨å¤§ */
      border-radius: var(--radius);
      object-fit: contain;
      loading: lazy;
      box-shadow: 0 4px 10px rgba(0,0,0,0.4);
    }

    .song-name {
      margin-top: 12px;
      font-size: 16px;
      font-weight: 600;
      color: var(--text-color);
    }

    .track-list {
      width: 100%;
      padding: var(--padding);
      background: rgba(255, 255, 255, 0.08); /* æ­Œæ›²åˆ—è¡¨èƒŒæ™¯æ›´æ˜æ˜¾ */
      border-radius: var(--radius);
      overflow-y: auto;
      max-height: 280px; /* å¢åŠ æœ€å¤§é«˜åº¦ */
      /* border: 1px solid rgba(255,255,255,0.15); /* æ­Œæ›²åˆ—è¡¨è¾¹æ¡† - ç§»é™¤ */ */
    box-shadow: 0 3px 6px rgba(0,0,0,0.2);
    }

    .track-item {
      display: flex;
      align-items: center;
      padding: 12px 15px; /* å¢åŠ å†…è¾¹è· */
      margin: 10px 0; /* å¢åŠ ä¸Šä¸‹é—´è· */
      background: rgba(255, 255, 255, 0.1);
      border-radius: 10px; /* æ›´åœ†æ¶¦çš„è¾¹è§’ */
      cursor: pointer;
      transition: background 0.2s ease, transform 0.2s ease, box-shadow 0.2s ease;
      box-shadow: 0 2px 5px rgba(0,0,0,0.15); /* è½»å¾®é˜´å½±æ›´æ˜æ˜¾ */
    }

    .track-item:hover {
      background: rgba(255, 255, 255, 0.2); /* æ‚¬åœèƒŒæ™¯æ›´æ˜æ˜¾ */
      transform: translateY(-3px); /* æ‚¬åœæ—¶è½»å¾®ä¸Šæµ®æ›´å¤š */
      box-shadow: 0 5px 10px rgba(0,0,0,0.3);
    }

    .track-item.playing {
      background: var(--gradient);
      color: #1a1a1a; /* æ’­æ”¾ä¸­æ–‡å­—é¢œè‰²æ›´æ·± */
      font-weight: bold;
      box-shadow: 0 3px 8px rgba(0,0,0,0.4);
      animation: pulseHighlight 1s infinite alternate; /* æ’­æ”¾ä¸­å¢åŠ è„‰å†²åŠ¨ç”» */
    }

    @keyframes pulseHighlight {
      0% { transform: scale(1); box-shadow: 0 3px 8px rgba(0,0,0,0.4); }
      100% { transform: scale(1.01); box-shadow: 0 5px 12px rgba(0,0,0,0.5); }
    }

    .track-item::before {
      content: 'â–¶';
      margin-right: 12px;
      font-size: 16px;
      opacity: 0.8;
      transition: opacity 0.2s ease;
    }

    .track-item.playing::before {
      content: 'ğŸµ';
      color: #1a1a1a;
      opacity: 1;
    }

    .track-item .track-number {
      width: 35px; /* è°ƒæ•´å®½åº¦ */
      font-size: 16px;
      color: var(--text-secondary);
    }

    .track-item.playing .track-number {
      color: #1a1a1a;
    }

    .track-item .track-name {
      flex-grow: 1;
      font-size: 16px;
      font-weight: 600;
    }

    .track-item .track-duration {
      font-size: 14px;
      color: var(--text-secondary);
    }

    .track-item.playing .track-duration {
      color: rgba(26,26,26,0.8);
    }

    /* .track-item:not(:last-child) { /* æ­Œæ›²åˆ—è¡¨åˆ†å‰²çº¿ - ç§»é™¤ */
    /* border-bottom: 1px solid rgba(255, 255, 255, 0.18); */
    /* } */

    .audio-container {
      width: 100%;
      padding: 20px;
      background: linear-gradient(145deg, #2a2a2a, rgba(251, 192, 217, 0.4)); /* æ’­æ”¾å™¨èƒŒæ™¯æ¸å˜é€æ˜åº¦è°ƒæ•´ */
      border-radius: var(--radius);
      margin-top: var(--padding);
      box-shadow: var(--shadow);
      /* border: 1px solid rgba(255, 255, 255, 0.1); /* æ’­æ”¾å™¨è¾¹æ¡† - ç§»é™¤ */ */
    }

    .current-track {
      font-size: 18px; /* å­—ä½“æ›´å¤§ */
      margin-bottom: 15px;
      font-weight: 700;
      color: var(--text-color);
      text-shadow: 0 1px 2px rgba(0,0,0,0.3);
    }

    audio {
      width: 100%;
      border-radius: var(--radius);
      background: rgba(255, 255, 255, 0.15); /* æ’­æ”¾å™¨è½¨é“èƒŒæ™¯æ›´æ˜æ˜¾ */
      border: none;
      outline: none;
    }

    audio::-webkit-media-controls-panel {
      background: linear-gradient(145deg, #2a2a2a, rgba(251, 192, 217, 0.5)); /* æ’­æ”¾å™¨æ§åˆ¶é¢æ¿èƒŒæ™¯é€æ˜åº¦è°ƒæ•´ */
      border-radius: var(--radius);
      padding: 10px; /* å¢åŠ å†…è¾¹è· */
      /* border: 1px solid transparent; /* ç§»é™¤ */ */
    box-shadow: 0 2px 5px rgba(0,0,0,0.3);
    }

    audio::-webkit-media-controls-play-button {
      background: var(--gradient);
      border-radius: 50%;
      padding: 10px;
      transition: background 0.2s ease, transform 0.2s ease;
      box-shadow: 0 3px 6px rgba(0,0,0,0.4);
    }

    audio::-webkit-media-controls-play-button:hover {
      background: linear-gradient(145deg, var(--secondary-color), var(--primary-color));
      transform: scale(1.1); /* æ‚¬åœæ—¶æ”¾å¤§æ›´å¤š */
    }

    audio::-webkit-media-controls-volume-slider,
    audio::-webkit-media-controls-timeline {
      background: rgba(255,255,255,0.3); /* è¿›åº¦æ¡å’ŒéŸ³é‡æ¡èƒŒæ™¯æ›´æ˜æ˜¾ */
      border-radius: 8px; /* æ›´å¤§çš„åœ†è§’ */
      height: 8px; /* è°ƒæ•´é«˜åº¦ */
    }

    audio::-webkit-media-controls-current-time-display,
    audio::-webkit-media-controls-time-remaining-display {
      color: var(--text-color);
      font-size: 12px;
      font-weight: 600;
    }

    audio::-webkit-media-controls-overflow-button {
      display: none !important;
    }

    .footer {
      margin-top: var(--padding);
      font-size: 14px;
      color: var(--text-secondary);
      text-shadow: 0 1px 2px rgba(0,0,0,0.2);
    }

    .carousel-btns, .back-btn {
      display: flex;
      justify-content: space-between;
      margin-top: 20px; /* å¢åŠ é—´è· */
    }

    .carousel-btns button, .back-btn button, .random-btn {
      background: var(--gradient);
      border: none;
      color: #1a1a1a; /* æŒ‰é’®æ–‡å­—é¢œè‰²æ›´æ·± */
      padding: 12px 25px; /* å¢åŠ å†…è¾¹è· */
      font-size: 16px;
      cursor: pointer;
      border-radius: 30px; /* æ›´åœ†æ¶¦çš„è¾¹è§’ */
      transition: background 0.2s ease, transform 0.2s ease, box-shadow 0.2s ease;
      box-shadow: 0 3px 6px rgba(0,0,0,0.3);
      font-weight: 700;
      letter-spacing: 0.5px;
    }

    .carousel-btns button:hover, .back-btn button:hover, .random-btn:hover {
      background: linear-gradient(145deg, var(--secondary-color), var(--primary-color));
      transform: translateY(-3px); /* æ‚¬åœæ—¶è½»å¾®ä¸Šæµ®æ›´å¤š */
      box-shadow: 0 6px 12px rgba(0, 0, 0, 0.4);
    }

    .carousel-btns button:active, .back-btn button:active, .random-btn:active {
      transform: translateY(0);
      box-shadow: 0 1px 3px rgba(0,0,0,0.2);
    }

    .hidden {
      display: none;
    }

    /* æ”¹è¿›ç„¦ç‚¹çŠ¶æ€ */
    *:focus-visible {
      outline: 3px solid var(--secondary-color); /* æ›´æ˜æ˜¾çš„ç„¦ç‚¹è½®å»“ */
      outline-offset: 4px;
      border-radius: var(--radius);
    }

    @media (max-width: 768px) {
      :root {
        --padding: 15px;
        --radius: 10px;
      }

      .container {
        width: 95%;
        padding: 15px;
      }

      h1 {
        font-size: 28px;
        margin-bottom: 20px;
      }

      .album-carousel {
        height: 320px;
      }

      .album-details {
        min-height: 320px;
      }

      .album-header img, .album-carousel img {
        height: 180px;
      }

      .album-header .song-name {
        font-size: 20px;
        margin-top: 15px;
      }

      .carousel-item {
        margin: 0 15px;
        padding: 12px;
      }

      .song-name {
        font-size: 14px;
      }

      .track-list {
        max-height: 220px;
      }

      .track-item {
        padding: 10px 12px;
        font-size: 14px;
      }

      .track-item .track-number {
        font-size: 14px;
        width: 30px;
      }

      .track-item .track-name, .track-item .track-duration {
        font-size: 13px;
      }

      .current-track {
        font-size: 16px;
      }

      .carousel-btns button, .back-btn button, .random-btn {
        padding: 10px 18px;
        font-size: 14px;
      }
    }

    @media (max-width: 480px) {
      :root {
        --padding: 10px;
        --radius: 8px;
      }

      .container {
        width: 98%;
        padding: 10px;
      }

      h1 {
        font-size: 24px;
        margin-bottom: 15px;
      }

      .album-carousel {
        height: 280px;
      }

      .album-details {
        min-height: 280px;
      }

      .album-header img, .album-carousel img {
        height: 150px;
      }

      .album-header .song-name {
        font-size: 18px;
        margin-top: 10px;
      }

      .carousel-item {
        margin: 0 10px;
        padding: 8px;
      }

      .song-name {
        font-size: 13px;
      }

      .track-list {
        max-height: 180px;
      }

      .track-item {
        padding: 8px 10px;
        font-size: 13px;
        margin: 6px 0;
      }

      .track-item .track-number {
        font-size: 13px;
        width: 25px;
      }

      .track-item .track-name, .track-item .track-duration {
        font-size: 12px;
      }

      .current-track {
        font-size: 14px;
      }

      .carousel-btns button, .back-btn button, .random-btn {
        padding: 8px 15px;
        font-size: 13px;
        border-radius: 25px;
      }
    }
  </style>
</head>
<body>

<div class="container">
  <h1>GEMIROSE MUSIC WORLD</h1>

  <div class="album-carousel" role="region" aria-label="ä¸“è¾‘è½®æ’­">
    <div class="carousel-inner">
      <div class="carousel-item" data-album="Pink Venom">
        <img src="pink venom.jpg" alt="Pink Venom ä¸“è¾‘å°é¢" data-src="Pink Venom.mp3" onerror="this.src='fallback.jpg'" loading="lazy">
        <div class="song-name">Pink Venom</div>
      </div>
      <div class="carousel-item" data-album="BORN PINK">
        <img src="bornpink.jpg" alt="BORN PINK ä¸“è¾‘å°é¢" data-src="Shut Down.mp3" onerror="this.src='fallback.jpg'" loading="lazy">
        <div class="song-name">BORN PINK</div>
      </div>
      <div class="carousel-item" data-album="THE ALBUM">
        <img src="how you like that.jpg" alt="THE ALBUM ä¸“è¾‘å°é¢" data-src="How You Like That.mp3" onerror="this.src='fallback.jpg'" loading="lazy">
        <div class="song-name">THE ALBUM</div>
      </div>
      <div class="carousel-item" data-album="The Girls">
        <img src="the girls.jpg" alt="The Girls ä¸“è¾‘å°é¢" data-src="THE GIRLS (BLACKPINK THE GAME OST).mp3" onerror="this.src='fallback.jpg'" loading="lazy">
        <div class="song-name">The Girls</div>
      </div>
      <div class="carousel-item" data-album="AMORTAGE">
        <img src="ç§€.jpg" alt="AMORTAGE ä¸“è¾‘å°é¢" data-src="earthquake.mp3" onerror="this.src='fallback.jpg'" loading="lazy">
        <div class="song-name">AMORTAGE</div>
      </div>
      <div class="carousel-item" data-album="RUBY">
        <img src="å¦®1.jpg" alt="RUBY ä¸“è¾‘å°é¢" data-src="Mantra (Explicit).mp3" onerror="this.src='fallback.jpg'" loading="lazy">
        <div class="song-name">RUBY</div>
      </div>
      <div class="carousel-item" data-album="like JENNIE">
        <img src="å¦®2.jpg" alt="like JENNIE ä¸“è¾‘å°é¢" data-src="like JENNIE (Explicit).mp3" onerror="this.src='fallback.jpg'" loading="lazy">
        <div class="song-name">Like JENNIE (Explicit)</div>
      </div>
      <div class="carousel-item" data-album="ROSIE">
        <img src="è‚‰1.jpg" alt="ROSIE ä¸“è¾‘å°é¢" data-src="toxic till the end.mp3" onerror="this.src='fallback.jpg'" loading="lazy">
        <div class="song-name">ROSIE</div>
      </div>
      <div class="carousel-item" data-album="Number One Girl">
        <img src="NOG.jpg" alt="Number One Girl ä¸“è¾‘å°é¢" data-src="number one girl.mp3" onerror="this.src='fallback.jpg'" loading="lazy">
        <div class="song-name">Number One Girl</div>
      </div>
      <div class="carousel-item" data-album="Rockstar">
        <img src="è2.jpg" alt="Rockstar ä¸“è¾‘å°é¢" data-src="Rockstar.mp3" onerror="this.src='fallback.jpg'" loading="lazy">
        <div class="song-name">Rockstar</div>
      </div>
      <div class="carousel-item" data-album="ALTER EGO">
        <img src="è1.jpg" alt="ALTER EGO ä¸“è¾‘å°é¢" data-src="Thunder.mp3" onerror="this.src='fallback.jpg'" loading="lazy">
        <div class="song-name">ALTER EGO</div>
      </div>
    </div>
  </div>

  <div class="album-details hidden">
    <div class="album-header">
      <img id="albumImage" src="" alt="ä¸“è¾‘å°é¢" loading="lazy">
      <div class="song-name" id="albumTitle"></div>
    </div>
    <div class="track-list" id="trackList"></div>
  </div>

  <div class="carousel-btns">
    <button id="prevBtn" aria-label="ä¸Šä¸€å¼ ä¸“è¾‘">â—€</button>
    <button id="randomBtn" class="random-btn" aria-label="éšæœºæ’­æ”¾">éšæœº</button>
    <button id="nextBtn" aria-label="ä¸‹ä¸€å¼ ä¸“è¾‘">â–¶</button>
  </div>

  <div class="back-btn hidden">
    <button id="backBtn" aria-label="è¿”å›è½®æ’­">è¿”å›</button>
  </div>

  <div class="audio-container">
    <div class="current-track" id="currentTrack">æœªé€‰æ‹©æ­Œæ›²</div>
    <audio id="audioPlayer" controls controlsList="nodownload" title="éŸ³ä¹æ’­æ”¾å™¨">
      <source id="audioSource" src="" type="audio/mpeg">
      æ‚¨çš„æµè§ˆå™¨ä¸æ”¯æŒéŸ³é¢‘å…ƒç´ ã€‚
    </audio>
  </div>

  <div class="footer">
    <p>Â© 2025 Gemirose music world</p>
  </div>
</div>

<script>
  const elements = {
    carouselInner: document.querySelector('.carousel-inner'),
    albumCarousel: document.querySelector('.album-carousel'),
    albumDetails: document.querySelector('.album-details'),
    trackList: document.getElementById('trackList'),
    albumImage: document.getElementById('albumImage'),
    albumTitle: document.getElementById('albumTitle'),
    carouselBtns: document.querySelector('.carousel-btns'),
    backBtnContainer: document.querySelector('.back-btn'),
    currentTrackDisplay: document.getElementById('currentTrack'),
    audioPlayer: document.getElementById('audioPlayer'),
    audioSource: document.getElementById('audioSource'),
    prevBtn: document.getElementById('prevBtn'),
    nextBtn: document.getElementById('nextBtn'),
    backBtn: document.getElementById('backBtn'),
    randomBtn: document.getElementById('randomBtn')
  };

  const albumTracks = {
    'like JENNIE': [
      { name: 'like JENNIE (Explicit)', src: 'like JENNIE (Explicit).mp3', duration: '2:03' },
      { name: 'like JENNIE (Peggy Gou Remix)', src: 'like JENNIE (Peggy Gou Remix).mp3', duration: '3:28' },
      { name: 'like JENNIE (Peggy Gou Remix - EXTENDED MIX | Explicit)', src: 'like JENNIE (Peggy Gou Remix - EXTENDED MIX | Explicit).mpM3', duration: '5:07' }
    ],
    'Pink Venom': [{ name: 'Pink Venom', src: 'Pink Venom.mp3', duration: '3:06' }],
    'BORN PINK': [
      { name: 'Pink Venom', src: 'Pink Venom.mp3', duration: '3:06' },
      { name: 'Shut Down', src: 'Shut Down.mp3', duration: '2:55' },
      { name: 'Typa Girl (Explicit ver.)', src: 'Typa Girl (Explicit ver.).mp3', duration: '2:59' },
      { name: 'Yeah Yeah Yeah', src: 'Yeah Yeah Yeah.mp3', duration: '2:58' },
      { name: 'Hard to Love (Explicit ver.)', src: 'Hard to Love (Explicit ver.).mp3', duration: '2:42' },
      { name: 'The Happiest Girl', src: 'The Happiest Girl.mp3', duration: '3:42' },
      { name: 'Tally (Explicit ver.)', src: 'Tally (Explicit ver.).mp3', duration: '3:04' },
      { name: 'Ready For Love', src: 'Ready For Love.mp3', duration: '3:04' },
    ],
    'THE ALBUM': [
      { name: 'How You Like That', src: 'How You Like That.mp3', duration: '3:00' },
      { name: 'Ice Cream (with Selena Gomez)', src: 'Ice Cream (with Selena Gomez).mp3', duration: '2:55' },
      { name: 'Pretty Savage', src: 'Pretty Savage.mp3', duration: '3:19' },
      { name: 'Bet You Wanna (Feat. Cardi B)', src: 'Bet You Wanna (Feat. Cardi B).mp3', duration: '2:39' },
      { name: 'Lovesick Girls', src: 'Lovesick Girls.mp3', duration: '3:12' },
      { name: 'Crazy Over You', src: 'Crazy Over You.mp3', duration: '2:41' },
      { name: 'Love To Hate Me', src: 'Love To Hate Me.mp3', duration: '2:49' },
      { name: 'You Never Know', src: 'You Never Know.mp3', duration: '3:49' },
    ],
    'The Girls': [{ name: 'The Girls', src: 'THE GIRLS (BLACKPINK THE GAME OST).mp3', duration: '2:43' }],
    'AMORTAGE': [
      { name: 'Earthquake', src: 'earthquake.mp3', duration: '3:00' },
      { name: 'YOUR LOVE', src: 'YOUR LOVE.mp3', duration: '2:53' },
      { name: 'TEARS', src: 'TEARS.mp3', duration: '3:02' },
      { name: 'HUGS & KISSES', src: 'HUGS & KISSES.mp3', duration: '3:09' }
    ],
    'RUBY': [
      { name: 'Intro: JANE with FKJ', src: 'Intro: JANE with FKJ.mp3', duration: '2:53' },
      { name: 'like JENNIE (Explicit)', src: 'like JENNIE (Explicit).mp3', duration: '2:03' },
      { name: 'start a war (Explicit)', src: 'start a war (Explicit).mp3', duration: '2:45' },
      { name: 'Handlebars (feat. Dua Lipa) (Explicit)', src: 'Handlebars (feat. Dua Lipa) (Explicit).mp3', duration: '3:04' },
      { name: 'with the IE (way up) (Explicit)', src: 'with the IE (way up) (Explicit).mp3', duration: '2:43' },
      { name: 'ExtraL (feat. Doechii) (Explicit)', src: 'ExtraL (feat. Doechii) (Explicit).mp3', duration: '2:47'},
      { name: 'Mantra (Explicit)', src: 'Mantra (Explicit).mp3', duration: '2:16' },
      { name: 'Love Hangover (feat. Dominic Fike) (Explicit)', src: 'Love Hangover (feat. Dominic Fike) (Explicit).mp3', duration: '3:00' },
      { name: 'ZEN (Explicit)', src: 'ZEN (Explicit).mp3', duration: '3:21' },
      { name: 'Damn Right (feat. Childish Gambino and Kali Uchis) (Explicit)', src: 'Damn Right (feat. Childish Gambino and Kali Uchis) (Explicit).mp3', duration: '3:50' },
      { name: 'F.T.S (Explicit)', src: 'F.T.S (Explicit).mp3', duration: '2:32' },
      { name: 'Filter (Explicit)', src: 'Filter (Explicit).mp3', duration: '2:31' },
      { name: 'Seoul City', src: 'Seoul City.mp3', duration: '2:44' },
      { name: 'Starlight (Explicit)', src: 'Starlight (Explicit).mp3', duration: '2:48' },
      { name: 'twin', src: 'twin.mp3', duration: '3:28' }
    ],
    'ROSIE': [
      { name: 'number one girl', src: 'number one girl.mp3', duration: '3:36' },
      { name: '3am', src: '3am.mp3', duration: '2:34' },
      { name: 'two years', src: 'two years.mp3', duration: '2:47' },
      { name: 'toxic till the end', src: 'toxic till the end.mp3', duration: '2:36' },
      { name: 'drinks or coffee', src: 'drinks or coffee.mp3', duration: '2:13' },
      { name: 'APT.', src: 'APT..mp3', duration: '2:49'},
      { name: 'gameboy', src: 'gameboy.mp3', duration: '2:46' },
      { name: 'stay a little longer', src: 'stay a little longer.mp3', duration: '4:06' },
      { name: 'not the same', src: 'not the same.mp3', duration: '3:04' },
      { name: 'call it the end', src: 'call it the end.mp3', duration: '2:21' },
      { name: 'too bad for us', src: 'too bad for us.mp3', duration: '3:56' },
      { name: 'dance all night', src: 'dance all night.mp3', duration: '3:34' },
    ],
    'Number One Girl': [{ name: 'Number One Girl', src: 'number one girl.mp3', duration: '3:36' }],
    'Rockstar': [{ name: 'Rockstar', src: 'Rockstar.mp3', duration: '3:05' }],
    'ALTER EGO': [
      { name: 'Born Again ft. Doja Cat & RAYE', src: 'Born Again ft. Doja Cat & RAYE.mp3', duration: '3:51' },
      { name: 'Rockstar', src: 'Rockstar.mp3', duration: '2:18' },
      { name: 'Elastigirl', src: 'Elastigirl.mp3', duration: '2:57' },
      { name: 'Thunder', src: 'Thunder.mp3', duration: '2:48' },
      { name: 'New Woman ft. ROSALIÌA', src: 'New Woman ft. ROSALIÌA.mp3', duration: '2:59' },
      { name: 'FXCK UP THE WORLD ft. Future', src: 'FXCK UP THE WORLD (vixi solo version|Explicit).mp3', duration: '3:04'},
      { name: 'Rapunzel ft. Megan Thee Stallion (Explicit)', src: 'Rapunzel ft. Megan Thee Stallion (Explicit).mp3', duration: '2:45' },
      { name: 'Moonlit Floor (Kiss Me)', src: 'Moonlit Floor (Kiss Me).mp3', duration: '2:35' },
      { name: 'When I\'m With You ft. Tyla', src: 'When I\'m With You ft. Tyla.mp3', duration: '2:52' },
      { name: 'BADGRRRL', src: 'BADGRRRL.mp3', duration: '2:12' },
      { name: 'Lifestyle (Explicit)', src: 'Lifestyle (Explicit).mp3', duration: '2:41' },
      { name: 'Chill', src: 'Chill.mp3', duration: '2:39' },
      { name: 'Dream', src: 'Dream.mp3', duration: '3:43' },
      { name: 'FXCK UP THE WORLD (vixi solo version|Explicit)', src: 'FXCK UP THE WORLD (vixi solo version|Explicit).mp3', duration: '2:55' },
      { name: 'Rapunzel (kiki solo version|Explicit)', src: 'Rapunzel (kiki solo version|Explicit).mp3', duration: '2:19' }
    ]
  };

  let currentIndex = 0;
  let touchStartX = 0;
  let touchEndX = 0;
  const totalAlbums = document.querySelectorAll('.carousel-item').length;

  // äº‹ä»¶å§”æ‰˜å¤„ç†ä¸“è¾‘ç‚¹å‡»å’Œé”®ç›˜äº‹ä»¶
  elements.carouselInner.addEventListener('click', (e) => {
    const item = e.target.closest('.carousel-item');
    if (item) {
      const albumName = item.getAttribute('data-album');
      const imgSrc = item.querySelector('img').src;
      showAlbumDetails(albumName, imgSrc);
    }
  });

  elements.carouselInner.addEventListener('keydown', (e) => {
    if (e.key === 'Enter' || e.key === ' ') {
      const item = e.target.closest('.carousel-item');
      if (item) {
        const albumName = item.getAttribute('data-album');
        const imgSrc = item.querySelector('img').src;
        showAlbumDetails(albumName, imgSrc);
      }
    }
  });

  // è½®æ’­æŒ‰é’®äº‹ä»¶
  elements.prevBtn.addEventListener('click', () => {
    currentIndex = (currentIndex === 0) ? totalAlbums - 1 : currentIndex - 1;
    updateCarousel();
  });

  elements.nextBtn.addEventListener('click', () => {
    currentIndex = (currentIndex === totalAlbums - 1) ? 0 : currentIndex + 1;
    updateCarousel();
  });

  // éšæœºæ’­æ”¾
  elements.randomBtn.addEventListener('click', () => {
    const albums = Object.keys(albumTracks);
    const randomAlbumName = albums[Math.floor(Math.random() * albums.length)];
    const tracks = albumTracks[randomAlbumName];
    const randomTrack = tracks[Math.floor(Math.random() * tracks.length)];

    elements.audioSource.src = randomTrack.src;
    elements.audioPlayer.load();
    elements.audioPlayer.play().catch(() => {
      elements.currentTrackDisplay.textContent = 'æ’­æ”¾æ­Œæ›²å¤±è´¥';
    });
    // æ›´æ–°å½“å‰æ’­æ”¾æ­Œæ›²çš„æ˜¾ç¤º
    elements.currentTrackDisplay.textContent = randomTrack.name;

    // æ‰¾åˆ°å¯¹åº”ä¸“è¾‘çš„å›¾ç‰‡è·¯å¾„å¹¶æ˜¾ç¤ºä¸“è¾‘è¯¦æƒ…
    const albumItem = document.querySelector(`[data-album="${randomAlbumName}"]`);
    if (albumItem) {
      const imgSrc = albumItem.querySelector('img').src;
      showAlbumDetails(randomAlbumName, imgSrc);
    } else {
      // å¦‚æœæ²¡æœ‰æ‰¾åˆ°å¯¹åº”çš„ä¸“è¾‘é¡¹ï¼Œå¯ä»¥è€ƒè™‘æ˜¾ç¤ºä¸€ä¸ªé»˜è®¤å›¾ç‰‡æˆ–å¤„ç†é”™è¯¯
      showAlbumDetails(randomAlbumName, 'fallback.jpg'); // å‡è®¾æœ‰ä¸€ä¸ªé»˜è®¤å›¾ç‰‡
    }

    // ç¡®ä¿å½“å‰æ’­æ”¾çš„æ­Œæ›²åœ¨åˆ—è¡¨ä¸­è¢«é«˜äº®ï¼ˆå¦‚æœå½“å‰æ˜¾ç¤ºçš„æ˜¯éšæœºæ’­æ”¾çš„ä¸“è¾‘ï¼‰
    const trackItems = elements.trackList.querySelectorAll('.track-item');
    trackItems.forEach(item => item.classList.remove('playing'));
    const playingTrackItem = Array.from(trackItems).find(item => item.querySelector('.track-name').textContent === randomTrack.name);
    if (playingTrackItem) {
      playingTrackItem.classList.add('playing');
    }
  });

  // è¿”å›æŒ‰é’®
  elements.backBtn.addEventListener('click', () => {
    elements.albumDetails.classList.add('hidden');
    elements.albumCarousel.classList.remove('hidden');
    elements.carouselBtns.classList.remove('hidden');
    elements.backBtnContainer.classList.add('hidden');
    elements.audioPlayer.pause();
    elements.audioSource.src = '';
    elements.currentTrackDisplay.textContent = 'æœªé€‰æ‹©æ­Œæ›²';
  });

  // éŸ³é¢‘äº‹ä»¶
  elements.audioPlayer.addEventListener('loadstart', () => {
    // å½“éŸ³é¢‘å¼€å§‹åŠ è½½æ—¶ï¼Œå¯ä»¥ä¸ç«‹å³æ¸…ç©ºï¼Œè€Œæ˜¯ä¿æŒå½“å‰æ˜¾ç¤ºï¼Œç›´åˆ°çœŸæ­£æ’­æ”¾æˆ–åŠ è½½å¤±è´¥
  });

  elements.audioPlayer.addEventListener('error', () => {
    elements.currentTrackDisplay.textContent = 'åŠ è½½æ­Œæ›²å¤±è´¥ï¼Œè¯·æ£€æŸ¥ç½‘ç»œæˆ–æ–‡ä»¶è·¯å¾„';
  });

  elements.audioPlayer.addEventListener('loadeddata', () => {
    // å½“éŸ³é¢‘æ•°æ®åŠ è½½å®Œæ¯•ï¼Œå¦‚æœä¸æ˜¯éšæœºæ’­æ”¾å¯¼è‡´æ˜¾ç¤ºï¼Œåˆ™ä¿æŒå½“å‰æ˜¾ç¤º
    // å¦åˆ™ï¼Œå¦‚æœé€šè¿‡ç‚¹å‡»æ­Œæ›²åˆ—è¡¨æ’­æ”¾ï¼Œåˆ™ä¼šæ›´æ–°
    const playingTrackElement = elements.trackList.querySelector('.playing .track-name');
    if (playingTrackElement) {
      elements.currentTrackDisplay.textContent = playingTrackElement.textContent;
    }
  });

  elements.audioPlayer.addEventListener('ended', () => {
    const currentTrack = elements.trackList.querySelector('.playing');
    const tracks = elements.trackList.querySelectorAll('.track-item');
    const currentIndex = Array.from(tracks).indexOf(currentTrack);
    if (currentIndex < tracks.length - 1) {
      tracks[currentIndex + 1].click();
    } else {
      elements.audioPlayer.pause();
      elements.currentTrackDisplay.textContent = 'æ’­æ”¾åˆ—è¡¨å·²ç»“æŸ';
    }
  });

  // è§¦æ‘¸æ»‘åŠ¨
  elements.carouselInner.addEventListener('touchstart', (e) => {
    touchStartX = e.changedTouches[0].screenX;
  });

  elements.carouselInner.addEventListener('touchend', (e) => {
    touchEndX = e.changedTouches[0].screenX;
    const threshold = 50;
    if (touchStartX - touchEndX > threshold) {
      currentIndex = (currentIndex === totalAlbums - 1) ? 0 : currentIndex + 1;
      updateCarousel();
    }
    if (touchEndX - touchStartX > threshold) {
      currentIndex = (currentIndex === 0) ? totalAlbums - 1 : currentIndex - 1;
      updateCarousel();
    }
  });

  // åŠ¨æ€æ›´æ–°æ›²ç›®æ—¶é•¿
  function updateTrackDuration(trackItem, trackSrc) {
    const tempAudio = new Audio(trackSrc);
    tempAudio.addEventListener('loadedmetadata', () => {
      const duration = Math.floor(tempAudio.duration);
      const minutes = Math.floor(duration / 60);
      const seconds = duration % 60;
      trackItem.querySelector('.track-duration').textContent = `${minutes}:${seconds < 10 ? '0' : ''}${seconds}`;
    });
    tempAudio.addEventListener('error', () => {
      trackItem.querySelector('.track-duration').textContent = 'æœªçŸ¥';
    });
  }

  // æ›´æ–°è½®æ’­
  function updateCarousel() {
    // è·å–ç¬¬ä¸€ä¸ªè½®æ’­é¡¹çš„å®½åº¦å’Œå…¶å·¦å³marginï¼Œä»¥ç¡®ä¿è®¡ç®—å‡†ç¡®
    const firstItem = elements.carouselInner.querySelector('.carousel-item');
    if (firstItem) {
      const itemWidth = firstItem.offsetWidth;
      const itemMarginLeft = parseFloat(getComputedStyle(firstItem).marginLeft);
      const itemMarginRight = parseFloat(getComputedStyle(firstItem).marginRight);
      const totalItemWidth = itemWidth + itemMarginLeft + itemMarginRight;
      const offset = -currentIndex * totalItemWidth;
      elements.carouselInner.style.transform = `translateX(${offset}px)`;
    }
  }

  // åˆå§‹åŒ–æ—¶è°ƒç”¨ä¸€æ¬¡ï¼Œç¡®ä¿å¸ƒå±€æ­£ç¡®
  updateCarousel();

  // ç›‘å¬çª—å£å¤§å°å˜åŒ–ï¼Œé‡æ–°è®¡ç®—è½®æ’­ä½ç½®
  window.addEventListener('resize', updateCarousel);


  // æ˜¾ç¤ºä¸“è¾‘è¯¦æƒ…
  function showAlbumDetails(albumName, imgSrc) {
    elements.albumCarousel.classList.add('hidden');
    elements.carouselBtns.classList.add('hidden');
    elements.albumDetails.classList.remove('hidden');
    elements.backBtnContainer.classList.remove('hidden');

    elements.albumImage.src = imgSrc;
    elements.albumImage.alt = `${albumName} ä¸“è¾‘å°é¢`;
    elements.albumTitle.textContent = albumName;
    elements.trackList.innerHTML = '';

    const tracks = albumTracks[albumName] || [];
    if (tracks.length === 0) {
      elements.trackList.innerHTML = '<p>æ­¤ä¸“è¾‘æš‚æ— æ­Œæ›²ã€‚</p>';
      return;
    }

    tracks.forEach((track, index) => {
      const trackItem = document.createElement('div');
      trackItem.classList.add('track-item');
      trackItem.innerHTML = `
        <span class="track-number">${index + 1}</span>
        <span class="track-name">${track.name}</span>
        <span class="track-duration">${track.duration}</span>
      `;
      trackItem.setAttribute('tabindex', '0');
      trackItem.setAttribute('role', 'button');
      trackItem.setAttribute('aria-label', `æ’­æ”¾ ${track.name}`);
      updateTrackDuration(trackItem, track.src);
      trackItem.addEventListener('click', () => {
        elements.trackList.querySelectorAll('.track-item').forEach(item => item.classList.remove('playing'));
        trackItem.classList.add('playing');
        elements.audioSource.src = track.src;
        elements.audioPlayer.load();
        elements.audioPlayer.play().catch(() => {
          elements.currentTrackDisplay.textContent = 'æ’­æ”¾æ­Œæ›²å¤±è´¥';
        });
        elements.currentTrackDisplay.textContent = track.name;
      });
      trackItem.addEventListener('keydown', (e) => {
        if (e.key === 'Enter' || e.key === ' ') {
          trackItem.click();
        }
      });
      elements.trackList.appendChild(trackItem);
    });
  }

</script>

</body>
</html>
